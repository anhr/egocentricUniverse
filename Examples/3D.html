<html>
<head>
	<title>3D Universe</title>

	<!--for mobile devices-->
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

	<meta name="author" content="Andrej Hristoliubov https://github.com/anhr">
	<!--<link type="text/css" rel="stylesheet" href="https://threejs.org/examples/main.css">-->
	<link type="text/css" rel="stylesheet" href="../../../three.js/dev/examples/main.css">

	<!--
	<script src="../../../three.js/dev/build/three.js"></script>
	<script src="../../../three.js/dev/build/three.min.js"></script>
	<script src="https://raw.githack.com/anhr/three.js/dev/build/three.js"></script>
	<script src="https://raw.githack.com/anhr/three.js/dev/build/three.min.js"></script>
	<script src="https://threejs.org/build/three.js"></script>
	<script src="https://threejs.org/build/three.min.js"></script>
	-->
</head>
<body>
	<script nomodule>alert('Fatal error: Your browser do not support modular JavaScript code.');</script>
	<div id="info">
		<a href="https://github.com/anhr/egocentricUniverse" target="_blank" rel="noopener">3D Universe</a>.
		By <a href="https://github.com/anhr" target="_blank" rel="noopener">anhr</a>
	</div>

	<script type="module">

		import * as THREE from '../../../three.js/dev/build/three.module.js';
		//import * as THREE from 'https://threejs.org/build/three.module.js';
		//import * as THREE from 'https://raw.githack.com/anhr/three.js/dev/build/three.module.js';

		import MyThree from '../../../commonNodeJS/master/myThree/myThree.js';
		//import MyThree from '../../../commonNodeJS/master/myThree/build/myThree.module.js';
		//import MyThree from '../../../commonNodeJS/master/myThree/build/myThree.module.min.js';
		//import MyThree from 'https://raw.githack.com/anhr/commonNodeJS/master/myThree/myThree.js';
		//import MyThree from 'https://raw.githack.com/anhr/commonNodeJS/master/myThree/build/myThree.module.js';
		//import MyThree from 'https://raw.githack.com/anhr/commonNodeJS/master/myThree/build/myThree.module.min.js';
		MyThree.three.THREE = THREE;

        import Universe3D from '../universe3D.js';


		new MyThree( (scene, options) => {

			//divide hupersphere to segments
			const anglesCount = 1000, angle = Math.PI * 2 / anglesCount, angles = [];
			for (let angleId = 0; angleId < anglesCount; angleId++) angles.push([angle * angleId, angle * angleId * angleId, angle * angleId * angleId * angleId]);
			
			const universe = new Universe3D(options,
			{

				/*
				intersection: {
					
					position: 1,
					//color: 'red',
					
				},
				*/
				/*
				edges: {

					project: false,//Doesn't project edges onto canvas
					
				},
				*/
				//edges: false,
				projectParams:{
					
					scene: scene,
					/*
					params: {
						
						//center: {x: 0.5, y: 0.3},
					
					}
					 */
					
				},
				//t: 0.5,
				debug: {

					probabilityDensity: false,
					middleVertice: false,
					
				},
				//debug: false,
				settings: {
					
					object: {
	
						//name: 'edges',
						//color: 'red',//Error: Universe: randomPosition. Vertice[0.06182962232650224,0.17260235605753627,0.7147391423930815] is not situated at a constant distance 1. Real distance is 0.5444665171824481
									//for random position - position: { count: 4, },
						//color: 0xffffff,
						geometry: {

							//pentahedroid https://en.wikipedia.org/wiki/5-cell
							angles: [
								[],//vertice[0] = [0,0,0,1]
								[Math.PI * 2 * 1 / 3],//vertice[1] = [0,0,0.8660254037844387,-0.4999999999999998]
								[Math.PI * 2 * 1 / 3, Math.PI * 1 * 2 / 3, Math.PI * 2 * 1 / 3],//vertice[2] = [0.6495190528383291,-0.3749999999999999,-0.4330127018922192,-0.4999999999999998]
								[Math.PI * 2 * 1 / 3, Math.PI * 2 * 2 / 3, Math.PI * 2 * 1 / 6],//vertice[3] = [-0.6495190528383288,-0.37499999999999994,-0.43301270189221974,-0.4999999999999998]
								[Math.PI * 2 * 1 / 3, Math.PI * 2 * 2 / 3, Math.PI * 2 * 3 / 6],//vertice[4] = [-9.184850993605146e-17,0.7499999999999998,-0.43301270189221974,-0.4999999999999998]
							],
							angles: { count: 300, },
							//angles: angles,
/*							
							position: [
	   
								//pyramid
								//[0,-0.9428090415820634,0.33333333333333326],
								//[0.8164965662730563,0.4714045207910317,0.33333333333333326],
								//[-0.8164965662730563,0.4714045207910317,0.33333333333333326],
								//[7.32733549761259e-9,4.230438555019589e-9,-1.0],
								
								//[0,-0.9428090415820634,0.33333333333333326, 1],
								//[0.8164965662730563,0.4714045207910317,0.33333333333333326, 0.5],
								//[-0.8164965662730563,0.4714045207910317,0.33333333333333326, 0],
								//[7.32733549761259e-9,4.230438555019589e-9,-1.0, -1.0],
							],
							position: { count: 4, },
*/							

							/*
							//Error: Universe: randomPosition. Vertice[0.06182962232650224,0.17260235605753627,0.7147391423930815] is not situated at a constant distance 1. Real distance is 0.5444665171824481
									//for random position - position: { count: 4, },
							colors: [
								1, 0, 0,//red
								0, 1, 0,//green
								0, 0, 1,//blue
								//1, 1, 1,//white
							//	0, 0, 1,	0, 0.6, 1
							],
							*/
							
							//opacity: [1, 0.3],
							/*
							indices: {

								edges: {
								
									count: 6,
							
								}
								//edges: [ [0,1], [1,2], [2,0], [0,3], [1,3], [2,3] ],//pyramid
								
							}
							*/
						
						}

					}
				
				},
				
				
			});
/*			
			universe.project( scene, {
				
				//center: {x: 0.5, y: 0.3},
			
			});
*/   
			//const s2 = universe.#setW();//Uncaught SyntaxError: Private field '#setW' must be declared in an enclosing class
			

		}, {

			dat: { guiSelectPoint: { point: (options, dat, fMesh) => { return new Universe3D.ND.gui(options, dat, fMesh); }, }, },
			//camera: { position: new THREE.Vector3( 0, 0, 2 ) },
			scales: {

				posAxesIntersection: new THREE.Vector3( -1, -1, -1 ),
				text: { precision: 1, rect: { displayRect: false, }, },
				/*
				w: {
					
					min: 0,
					//name: 't',
				},
				*/

			},
			//dat: false,
			canvas: {

				noButtonFullScreen: true,

			},
			pointLight: false,
			//point: { size: 0.0 },
			palette: MyThree.ColorPicker.paletteIndexes.BGYW,//MyThree.ColorPicker.paletteIndexes.rainbow,
			playerOptions: {
				
				max: Infinity,
				interval: 100,
				
			},

		});

	</script>
</body>
</html>